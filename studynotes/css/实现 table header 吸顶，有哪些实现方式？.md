# **实现 table header 吸顶，有哪些实现方式？**

## 前言

表格头部（header）吸顶效果是指在页面滚动时，表头固定在视口顶部，方便用户在浏览大量数据时仍能清晰看到列标题。实现这一功能对提升用户体验非常重要。CSS 和 JavaScript 提供了多种实现方案，各有优缺点。

## 常见实现方式

1. **CSS** `**position: sticky**`
   这是最简单且现代的方案。将表头单元格或整行设置为 `position: sticky`，并指定 `top: 0`，表头即会在滚动到顶部时固定。

```css
thead th {
  position: sticky;
  top: 0;
  background: #fff;
  z-index: 10;
}
```

优点是实现简单，无需额外脚本，兼容主流现代浏览器。缺点是在部分旧版本浏览器支持不足，且复杂表格结构时表现可能不稳定。

1. **使用** `**position: fixed**` **+ JavaScript 监听滚动**
   通过 JavaScript 监听页面滚动，当表头滚动出视口时，将其复制一份固定定位显示在顶部。实现灵活，兼容性好，但代码复杂，性能消耗较高。
2. **将表头与表体拆分为两个表格**
   将表头单独做成一个表格固定在顶部，表体做成滚动容器。此方案兼容性好，布局灵活，但需要处理列宽同步问题，代码和样式较复杂。
3. **第三方库和插件**
   如 DataTables、Handsontable 等组件库内置吸顶功能，适合需求复杂的项目。

## 面试回答

实现 table header 吸顶常用方案有 CSS `position: sticky`，将表头设置为粘性定位并固定顶部；也可以用 JavaScript 监听滚动，动态固定表头；或者拆分表格为两个部分，一个固定表头，一个滚动表体。`position: sticky` 是最简洁高效的方式，但兼容性略逊于 JS 方案。选择方案需结合项目需求和浏览器支持。

## 总结

表头吸顶功能对提升数据表格的用户体验至关重要。现代浏览器推荐使用 `position: sticky` 实现，兼容性不足时可采用 JavaScript 动态定位或拆分表格方案。了解各方案的优缺点，有助于选用最适合项目的实现方式。