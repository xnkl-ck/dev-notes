# **引用类型有哪些，有什么特点？**

## 前言

在 JavaScript 中，引用类型是变量存储和传递的重要组成部分，理解它们对于掌握内存管理和数据操作非常关键。引用类型与值类型不同，操作时更多的是对内存地址的引用。本文将系统讲解 JavaScript 中常见的引用类型及其核心特点。

## JavaScript 中的引用类型

引用类型本质上是对象。它们包括：

- 普通对象（Object）
- 数组（Array）
- 函数（Function）
- 日期对象（Date）
- 正则表达式对象（RegExp）
- Map、Set、WeakMap、WeakSet 等 ES6 新增的数据结构
- 用户自定义对象

这些类型都属于对象，具有属性和方法。

## 引用类型的核心特点

1. **存储方式**
   引用类型变量存储的是对象在堆内存中的地址（引用），而非对象的值本身。
2. **可变性**
   引用类型是可变的。即使变量是常量（const）声明，内部对象属性依然可以被修改。
3. **赋值是复制引用**
   赋值操作复制的是内存地址，多个变量指向同一个对象，任何一处修改都会反映到所有引用该对象的变量。
4. **函数传参是传递引用地址**
   当引用类型作为函数参数传入时，传递的是对象的引用地址，函数内部可以修改对象内容，外部也能观察到变化。
5. **具有原型链**
   引用类型都继承自 `Object.prototype`，拥有原型链，支持继承和方法共享。

## 引用类型与垃圾回收

由于引用类型占用堆内存，JavaScript 引擎使用垃圾回收机制回收不再被引用的对象，避免内存泄漏。

## 示例说明

```plain
const obj1 = { a: 1 };
const obj2 = obj1;
obj2.a = 2;
console.log(obj1.a); // 2，因为 obj1 和 obj2 引用同一个对象

function modify(o) {
  o.a = 3;
}
modify(obj1);
console.log(obj2.a); // 3，函数内部修改影响外部
```

## 需要注意的细节

- 引用类型可以通过浅拷贝或深拷贝产生新的对象副本，避免直接共享引用。
- 函数是特殊的对象，可以被调用执行。
- `null` 是特殊的值类型，不属于引用类型。

------

## 面试回答示范

**问题：JavaScript 中引用类型有哪些，它们有什么特点？**

回答示例：

“JavaScript 中的引用类型基本上都是对象，包括普通对象、数组、函数、日期、正则表达式，以及 ES6 的 Map、Set 等。它们存储的是对象在堆内存的引用地址，而不是实际值。引用类型是可变的，赋值时复制的是引用地址，多个变量会指向同一个对象，修改其中一个变量会影响其他变量。函数传参时，传递的是对象的引用，函数内部修改会反映到外部。引用类型有原型链支持继承和共享方法，内存管理由垃圾回收机制自动处理。”

------

## 总结

掌握引用类型的种类和特性，有助于理解 JavaScript 的内存模型和数据操作行为。合理使用引用类型，结合拷贝技术，可以有效避免数据污染和潜在的性能问题，提高代码的健壮性。