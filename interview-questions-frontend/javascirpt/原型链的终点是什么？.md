# **原型链的终点是什么？**

## 前言

在 JavaScript 中，对象的属性访问依赖于原型链机制。每个对象都有一个内部的 `[[Prototype]]或者叫__proto__` 指向另一个对象，称为它的“原型”，这个原型对象也有自己的原型，层层向上，形成一条链条，这就是原型链。那这条链的尽头在哪里？原型链的终点是什么？理解这一点，有助于我们掌握 JavaScript 的对象模型、继承机制和运行时行为。本文将详细解析原型链终点的本质与意义。

## 原型链的终点：null

JavaScript 中所有对象的原型链最终都会指向一个对象：`Object.prototype`，这是所有普通对象的根原型。而 `Object.prototype.__proto__`是 `null`，这就是原型链的终点。

例子：

```javascript
function Person(name) {
  this.name = name;
}

const p = new Person('Alice');

// 原型链结构如下：
console.log(p.__proto__ === Person.prototype); // true
console.log(Person.prototype.__proto__ === Object.prototype); // true
console.log(Object.prototype.__proto__); // null
```

这意味着：

- `Object.prototype` 是所有构造函数的默认原型的“祖先”。
- 原型链查找会在 `Object.prototype` 停止，如果再查找不到，就返回 `undefined`。

## 为什么终点是 null？

JavaScript 引擎设计中，`null` 表示“没有值”或“无原型”，用它作为原型链的终点是一种终止标志。它既代表找不到，也表示停止查找。

当访问一个对象属性时，如果该属性不在当前对象中，JavaScript 会沿着原型链逐级查找。当最终查找到 `Object.prototype` 且仍未找到时，下一步就会看到 `Object.prototype.__proto__` 是 `null`，说明再也没有上层对象了，查找就此终止。

## 特别注意：自定义原型终止点

可以通过创建一个没有原型的对象来人为控制原型链终点：

```javascript
const obj = Object.create(null);

console.log(Object.getPrototypeOf(obj)); // null
```

这种对象没有继承自 `Object.prototype`，因此没有如 `toString`、`hasOwnProperty` 等方法。常用于一些特殊用途，比如纯净的字典结构。

------

## 面试回答示范

**问题：JavaScript 中原型链的终点是什么？为什么？**

回答示例：

“原型链的终点是 `null`，它是 `Object.prototype.__proto__` 的值。所有普通对象最终都会通过原型链指向 `Object.prototype`，而它的原型就是 `null`，表示查找链的结束。

这样设计是为了让 JavaScript 引擎能够在访问对象属性时，有一个终止点来结束查找过程。如果属性在对象自身、其原型、或更高原型中都找不到，最终查到 `null` 时引擎就会返回 `undefined`。”

------

## 总结

原型链是 JavaScript 实现继承和共享的核心机制，而原型链的终点 `null` 是这个机制中非常重要的安全阀门。理解这一终点的存在，不仅可以帮助我们掌握对象查找过程，也为构建底层框架、设计类继承结构、优化原型访问路径打下基础。记住：不管你创建多复杂的对象结构，它们最终都将止步于 `null`。